【バックログプラグイン Ver.2.04】
http://hororo.wp.xdomain.jp/118/

2018/3/24更新 v470対応版

-------------------------------------------------------------------------------------------------
■ 機能
-------------------------------------------------------------------------------------------------
　・ログを整形します。
　・キャラ名が無い時に、文頭に[font][ruby]があると改行しない問題に対応しています。※[p][r][er][ct][cm][s]時にログを纏めます。
　・ルビをログに表示します。（非表示にはできません）
　・キャラ名が重複しないようにできます。
　・[font]タグをログに反映するかしないか選択可能。
　・[glink]の選択をログに表示できます。※v2.01からは gling タグで直指定も可能
　・CSSで自由に整形できます。
　・ログの縦書き対応。Config.tjs で vertical = true になっていれば自動で縦書き表示になります。
　・縦書きでもキャラ名が入ります。※v2.00から
　・縦書き時の縦中横に対応。※v2.00から
　・キャラ名のhtmlタグに、[chara_new] で定義した name値が class名として入ります。定義なしの場合は "name"。※2.01から

2.00で改善された機能
　・[font]を反映する際、タグの記述に制限があった点を改善。
　・キャラ名を重複させず、同一キャラのセリフが続く場合、
　　一行目のログが消えてもキャラ名が残るようになりました。
　　説明が難しいのでブログの記事をご覧ください(;'∀')

2.00で削除された機能
　・[mtext] [ptext] のログ表示。※[pushlog]を利用してください。
　・[mtext] [ptext]  x=center or y=center でのセンタリング。
　
-------------------------------------------------------------------------------------------------
■ 使い方
-------------------------------------------------------------------------------------------------
　①data/others/plugin に 「backlog」を入れてください。
　
　②first.ks からプラグインを呼び出してください。
　　[plugin name="backlog"]
　　
　③backlog/backlog.css でデザインを変更する。

　◆パラメーター（※デフォルトの場合は省略可）
　　　パラメータ名　値　　　　　　　　　省略時　説明
　　　def_style　　 true/false　　　　　false　 デフォルトフォントスタイルをログに反映させる場合は true
　　　font_style　　true/false　　　　　false　 [font]をログにログに反映させる場合は true
　　　name_repeat　 true/false　　　　　true　　同じキャラのセリフが続く場合、毎行キャラ名を入れる場合は true
　　　name_none　　 true/false　　　　　false　 ログにキャラ名を入れないか。
　　　glink_log　　 true/false/文字列　 false　 [glink]の選択をログに表示。
　　　　　　　　　　　　　　　　　　　　　　　　※文字列を入れると、ログのキャラ名部分に文字列が入ります。
　　　
　◆記述例
　　例1：キャラ名重複なし、[glink]ログ反映。
　　　　[plugin name="backlog" name_repeat="true" glink_log="true"]
　　例2：[font]反映、[glink]ログ反映＋ログタイトルを「Select」に。
　　　　[plugin name="backlog" font_style="true" glink_log="Select"]

　◆ [glink]
　		[glink (略) log=true] or [glink (略) log=false] でログの on/off 切り替えができます。
　		[plugin] の glink_log よりも、[glink] の log が優先されます。
　
　		例えば、[plugin glink_log=true]でonにしても、[glink log=false] で個別offが可能です。

-------------------------------------------------------------------------------------------------
■ ログのhtmlコード
-------------------------------------------------------------------------------------------------
　◆通常ログ
　　<dl><dt class="akane">あかね</dt><dd>テキスト</dd></dl>
　　<dl><dt class="name">？</dt><dd>テキスト</dd></dl> //※chara_new の name値が無い場合

　◆通常ログ（name_repeat=true時）
　　<dl><dt class="akane">あかね</dt><dd>テキスト1行目</dd><dl>
　　<dl class="none"><dt class="akane">あかね</dt><dd>テキスト2行目</dd></dl>

　◆通常ログ（name_none=true時）
　　<dl><dd>テキスト</dd></dl>

　◆glinkログ
　　<dl class="glink"><dt>≪選択≫ or 設定値</dt><dd>テキスト</dd></dl>

　◆pushlogログ
　　<dl class="log">テキスト</dl>
　　
　※htmlタグの使い方がおかしいですが、div p span では上手く表示出来ないので仕方なく…。
　※セーブタイトルも同じコードで挿入されます。

-------------------------------------------------------------------------------------------------
■ 動作確認
-------------------------------------------------------------------------------------------------
　ティラノスクリプトv470　

-------------------------------------------------------------------------------------------------
■ 注意点
-------------------------------------------------------------------------------------------------
　スクリプトのエンジン本体を改造しています。
　同じ関数を変更しているプラグインとの併用はできません。
　他verのティラノスクリプトでは動作しない可能性があります。
　
-------------------------------------------------------------------------------------------------
■ 改造項目
-------------------------------------------------------------------------------------------------
　・kag.tag.js
　　　・pushBackLog
　
　・kag.tag.js
　　　・r
　　　・p
　　　・er
　　　・cm
　　　・ct
　　　・s
　　　・font
　　　・resetfont
　　　・glink
　　　・showMessage
　　　・showMessageVertical
　　　
　・kag.menu.js
　　　・displayLog

-------------------------------------------------------------------------------------------------
■ 免責
-------------------------------------------------------------------------------------------------
　このプラグインを使用したことにより生じた損害・損失に対して制作者は一切責任を負いません。

-------------------------------------------------------------------------------------------------
■ 利用規約
-------------------------------------------------------------------------------------------------
　・改造・再配布は自由です。ただし、有償での再配布は禁止します。
　　改造後データの配布も同様にお願いします。
　・利用報告・クレジット表記は任意です。

-------------------------------------------------------------------------------------------------
■ 制作者
-------------------------------------------------------------------------------------------------
　name　　hororo
　site　　めも調　http://hororo.wp.xdomain.jp/
　mail　　ruru.amu@gmail.com
　twitter @hororo_memocho

-------------------------------------------------------------------------------------------------
■ ご協力ありがとうございます
-------------------------------------------------------------------------------------------------
　SOroom SOrow 様　http://north.undo.jp/
　
-------------------------------------------------------------------------------------------------
■ 更新履歴
-------------------------------------------------------------------------------------------------
　2018/03/24　ver2.04 [l]時にセーブタイトルが正しく取得出来ない不具合修正。v470_rc6bにて動作確認。
　2017/10/24　ver2.03 ティラノv457g対応。グリフ表示方法変更に対応。
　2017/08/20　ver2.02 セーブにメッセージが入らない件を修正。v456dにて動作確認。
　2017/07/26　ver2.01a console.log削除し忘れ修正…。
　2017/07/19　ver2.01 glink のログ表示を個別対応可能に、chara_name を class 指定するよう変更。
　　　　　　　ログHTMLの不要（？）なclass指定を削除。
　2017/07/03　ver2.00a console.log削除し忘れ修正。init.ks整理。
　2017/07/02　ver2.00　ティラノv455対応。
　2016/08/10　ver1.00　公開
